# 프로젝트 개요
- Emoji Tetris
- 프로젝트 기간: 2024.04~2024.05 (4주)
- 참여인원: 1명 (개인 프로젝트)
- 개발 환경: Python, Visual Studio Code, Git, GitHub
- 내용: 이모지 텍스트를 블록으로 표현한 테트리스 게임
- 제작하게된 계기: 최초의 테트리스 개발자의 일화가 담긴 영화 '테트리스'를 보며, 그래픽을 사용하지 않고 텍스트 출력만을 사용하여 구현해 보기로 함
- 핵심기능: 블록의 생성, 이동, 회전, 낙하지점 표시. 블록이 모두 채워진 행 초기화 및 밀착
- 링크:
  - GitHub: https://github.com/Seunghwan-Ji/private-project/tree/master/game/emoji_tetris
  - 플레이 영상: https://youtube.com/shorts/RvTi-WdkH_E?feature=shared

# 목차
1. 게임판 정의
2. 편의 기능
3. 주요 알고리즘
4. 키 입력 이벤트 처리 방법
5. 개선할 점 및 강화된 역량

# 게임판 정의
- 게임판: 10 X 21 사이즈의 2차원 리스트 생성 후 게임판 배경을 표현하는 검은색 이모지 문자열로 요소의 초기값으로 채움
- 블록 리스트: 다양한 모양의 블록을 이모지 문자열을 요소로 갖는 2차원 리스트 형태로 정의 후 이것들을 하나의 리스트로 묶어 3차원 리스트 형태로 정의
- 점수: 'score' 글로벌 변수를 선언하여 점수를 얻는 조건일 때마다 수치 업데이트

# 편의 기능
- 재시작, 일시 중지/재개 단축키 입력 이벤트 처리 로직 구현
- 블록 낙하지점 표시: 매 프레임마다 현재 블록이 낙하되었을 때의 위치를 다른 이모지 텍스트로 표시

# 주요 알고리즘
- 블록 생성: 7가지 블록의 순서를 무작위로 배열한 리스트에서 현재 순서에 해당하는 블록을 게임판 상단 행 부분 가운데 열 위치에 생성. 가운데 열 위치의 인덱스는 (게임판의 행 길이 - 블록의 행 길이) / 2 의 계산 값을 통해 결정함
- 블록 회전: 현재 블록의 가로 길이 / 2, 세로 길이 / 2를 계산하여 블록의 회전중심을 결정하고 게임판 내에서 회전중심의 위치를 기록. 도형을 원점 좌표에서 90도 회전했을 때의 규칙성을 활용하여 현재 블록의 회전중심을 게임판 원점에 배치시켜 회전 시킨 후 원점으로부터 원래 회전중심 위치까지의 거리 차이를 계산. 원점에 위치한 블록의 각 픽셀을 거리 차이만큼 평행이동. 추가적으로 블록을 회전시켰을 때 게임판을 이탈할 경우 회전을 못 하게 하는 로직 추가
- 블록 이동:
  다음과 같은 조건일 때 현재 조작 중인 블록의 모든 픽셀 이동 불가.
  - 게임판 내 블록 위치정보를 참조하여 블록의 마지막 행이 게임판의 마지막 행에 위치할 경우(아래로 이동 불가)
  - 블록의 첫 번째 열이 게임판의 첫 번째 열에 위치할 경우(왼쪽 이동 불가)
  - 블록의 마지막 열이 게임판의 마지막 열에 위치할 경우(오른쪽 이동 불가)
  - 이전 열, 다음 열, 다음 행에 다른 블록 픽셀이 존재할 경우
  그 외엔 이동 허용
- 블록이 채워진 행 초기화: 블록이 모두 채워진 행을 조회하여 해당 행을 초기화 시킴. 초기화된 행의 수만큼 게임판의 모든 행을 아래로 이동시켜 밀착시킴. 밀착시키는 원리는 행을 아래에서 위로 역순으로 참조하고 참조 중인 행이 초기화된 행이면 바로 위에 행과 교체
- 블록 낙하: 불리언 값 형태의 글로벌 변수를 선언하고 사용자가 스페이스바 키를 눌렀을 때 해당 글로벌 변수를 활성화하고 블록을 아래로 이동시키는 함수에서 이 글로벌 변수가 참이면 가상으로 아래로 이동을 계속 허용시켜 더 이상 이동할 수 없는 조건이 될 때 낙하 완료된 위치의 모습을 출력함
- 블록 낙하지점 표시(실루엣): 현재 조작 중인 블록의 위치 정보가 복사된 값을 갖는 글로벌 변수를 선언. 이 변수는 실루엣의 초기 위치가 됨. 실루엣에 블록 낙하 로직을 적용. 이후 현재 블록이 조작되면 다음 실루엣 표시를 위해 이전 실루엣을 게임판 배경 픽셀로 초기화

# 키 입력 이벤트 처리 방법
- 입력을 처리할 키들의 리스트와 입력 이벤트를 처리할 함수 정의. 함수 내에서 전달받은 입력키에 따른 조건을 추가해 이에 대응하는 불리언 값 형태의 글로벌 변수를 활성화. 메인 루프문에서 활성화된 글로별 변수를 참조하고 그에 따른 기능을 동작시키는 함수 호출

# 보완할 부분
- 객체의 속성과 관련된 글로벌 변수가 많으므로, Class 문법을 사용해 글로벌 변수를 줄여 코드의 가독성을 높일 필요가 있음.
# 추가하면 좋을 기능
- 다음에  생성될 블록이 무엇인지 미리 표시해 주는 UI와 특정 키 입력시 현재 조작 중인 블록을 다음 블록으로 교체하는 기능 추가.
# 강화된 역량
- 행렬 구조인 2차원 리스트를 다루며 행렬의 개념을 이해하고 리스트 자료형 문법의 응용력을 극대화하여 파이썬 언어 프로그래밍 능력을 향상시켰습니다.
- 문제 해결에 적합한 알고리즘을 스스로 고민하여 찾은 다음, 전반적인 로직을 성공적으로 구현하고 문제 해결력과 응용력을 향상시켰습니다.